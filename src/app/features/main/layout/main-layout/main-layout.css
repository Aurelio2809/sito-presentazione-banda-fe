@reference "../../../../../styles.css";

.shell{
  @apply min-h-screen text-banda-white;
  display: flex;
  flex-direction: column;
  position: relative;
  isolation: isolate;

  /* altezza navbar (una sola fonte di verità) */
  --header-h: 64px;

  /* base scura */
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(255,215,0,0.06), rgba(0,0,0,0) 60%),
    radial-gradient(760px 420px at 80% 30%, rgba(170,0,0,0.08), rgba(0,0,0,0) 60%),
    linear-gradient(135deg, rgba(10,10,12,1), rgba(4,4,5,1));
}

/* filigrana dietro a tutto */
.shell::before{
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background-image: url("/assets/bg/bg-musica.png");
  background-repeat: repeat;
  background-size: 1024px;
  background-position: top left;

  opacity: 0.65;
  filter: contrast(1.18) brightness(1.06);
  mix-blend-mode: screen;
}

/* =========================================================
   HEADER (FISSO)
   ========================================================= */
.header{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--header-h);
  z-index: 60;

  border-bottom: 1px solid rgba(255,255,255,0.10);
  backdrop-filter: blur(12px) saturate(1.12);

  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--color-banda-red-700) 92%, black 8%),
    color-mix(in srgb, var(--color-banda-red-500) 78%, black 22%)
  );
}

.header__inner{
  @apply mx-auto flex max-w-6xl items-center justify-between px-4;
  height: 100%;
}

/* =========================================================
   BRAND (con stemma)
   ========================================================= */
.brand{
  @apply flex items-center gap-3 select-none;

}

.brand__mark{
  /* ⬆️ un filo più grande: lo stemma respira */
  width: 52px;
  height: 52px;

  position: relative;
  overflow: hidden;
  isolation: isolate;

  border-radius: 14px;

  /* ✅ placca più chiara (lo stemma stacca sul rosso) */
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,215,0,0.22);
  backdrop-filter: blur(10px) saturate(1.15);

  box-shadow:
    0 10px 26px rgba(0,0,0,0.30),
    0 0 0 1px rgba(255,255,255,0.06) inset;

  transition: transform 200ms ease, filter 200ms ease, background 200ms ease, border-color 200ms ease;
}

/* base “medaglione” interna (clippata, non sporca i bordi) */
.brand__mark::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;

  background:
    radial-gradient(120px 70px at 30% 20%, rgba(255,255,255,0.22), rgba(255,255,255,0.08) 55%),
    linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
  opacity: 0.95;
}

/* highlight sopra: clippato (NO inset:-1) */
.brand__mark::after{
  content: "";
  position: absolute;
  inset: 0;                 /* ✅ non sporge */
  border-radius: inherit;   /* ✅ stesso radius */
  pointer-events: none;
  z-index: 2;

  background: radial-gradient(120px 60px at 20% 20%, rgba(255,255,255,0.20), rgba(255,255,255,0) 60%);
  opacity: 0.40;
  transition: opacity 200ms ease, transform 500ms ease;
}

.brand__crest{
  position: relative;
  z-index: 1;

  width: 100%;
  height: 100%;
  display: block;

  padding: 0;               /* ✅ niente padding */
  border-radius: inherit;   /* ✅ segue il radius del mark */
  object-fit: cover;        /* ✅ riempie tutto (può tagliare un filo) */
  transform: translateZ(0);

  filter:
    drop-shadow(0 10px 18px rgba(0,0,0,0.30))
    contrast(1.10)
    brightness(1.08)
    saturate(1.05);
}

.brand:hover .brand__mark{
  transform: scale(1.05);
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,215,0,0.28);
  filter: saturate(1.06);
}

.brand:hover .brand__mark::after{
  opacity: 0.55;
  transform: translate3d(2px, -2px, 0);
}

.brand__text{ @apply leading-tight; }
.brand__title{ @apply text-sm font-semibold tracking-wide text-banda-white; }
.brand__subtitle{ @apply text-xs text-white/80; }

/* =========================================================
   NAV
   ========================================================= */
.nav{ @apply hidden items-center gap-1 md:flex; }

.nav__link{ @apply relative rounded-xl px-3 py-2 text-sm text-white/90 transition; }

.nav__link::before{
  content: "";
  @apply absolute inset-0 rounded-xl opacity-0 transition;
  background: rgba(255, 255, 255, 0.12);
}

.nav__link:hover::before{ @apply opacity-100; }
.nav__link.is-active{ @apply text-banda-white; }

.nav__link.is-active::before{
  opacity: 1;
  background: linear-gradient(135deg, rgba(255,255,255,0.22), rgba(255,255,255,0.10));
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.22);
}

/* =========================================================
   CONTENT (compensazione SOTTO la navbar)
   ========================================================= */
.content{
  flex: 1 1 auto;
  min-height: 0;
  padding-top: var(--header-h);
}

/* =========================================================
   FOOTER
   ========================================================= */
.footer{
  @apply border-t border-white/10;
  position: relative;
  z-index: 2;

  background: linear-gradient(
    180deg,
    rgba(32,32,36,0.96),
    rgba(20,20,24,0.96)
  );

  backdrop-filter: blur(10px) saturate(1.15);
}

.footer__inner{
  @apply mx-auto flex max-w-6xl flex-col gap-2 px-4 py-6 md:flex-row md:items-center md:justify-between;
}

.footer__copy{ @apply text-sm text-white/60; }
.footer__links{ @apply flex items-center gap-3 text-sm; }
.footer__link{ @apply text-white/60 transition hover:text-banda-gold-400; }
.footer__dot{ @apply text-white/20; }

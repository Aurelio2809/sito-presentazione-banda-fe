.home{ width: 100%; }
.heroSection{
  height: 100vh;
  min-height: 100vh;
  display: flex;
  align-items: center;
  padding: 0 16px;
  position: relative;
  overflow: hidden;

  /* IMPORTANT: niente background pieno qui */
  background: transparent;

  --p: 0;
}

.heroSection::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;

  background:
    radial-gradient(900px 520px at 20% 10%, rgba(255,215,0,0.10), rgba(0,0,0,0) 60%),
    radial-gradient(760px 420px at 80% 30%, rgba(170,0,0,0.12), rgba(0,0,0,0) 60%),
    linear-gradient(135deg, rgba(10,10,12,0.22), rgba(4,4,5,0.22)); /* era 0.38 */
}

/* porta il contenuto sopra lo scrim */
.heroSection > *{
  position: relative;
  z-index: 1;
}

@media (min-width: 768px){
  .heroSection{ padding: 0 40px; }
}

/* contenitore centrato */
.section__inner{
  width: 100%;
  max-width: 72rem;
  margin: 0 auto;
}

/* grid */
.section__grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 22px;
  align-items: center;
}
@media (min-width: 900px){
  .section__grid{
    grid-template-columns: 1.05fr 0.95fr;
    gap: 48px;
  }
}

/* alternanza */
.heroSection[data-side="left"] .section__text{ order: 1; }
.heroSection[data-side="left"] .section__media{ order: 2; }
.heroSection[data-side="right"] .section__text{ order: 2; }
.heroSection[data-side="right"] .section__media{ order: 1; }

@media (max-width: 899px){
  .heroSection[data-side="left"] .section__text,
  .heroSection[data-side="left"] .section__media,
  .heroSection[data-side="right"] .section__text,
  .heroSection[data-side="right"] .section__media{ order: initial; }
}

/* ---- TIPOGRAFIA ---- */
.section__tag{
  display: inline-flex;
  width: fit-content;
  padding: 6px 12px;
  border-radius: 9999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.78);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.02em;
}

.section__title{
  margin-top: 14px;
  font-size: clamp(26px, 3.4vw, 46px);
  font-weight: 800;
  letter-spacing: -0.02em;
  color: rgba(255,255,255,0.92);
  line-height: 1.05;
}

.section__desc{
  margin-top: 14px;
  max-width: 62ch;
  font-size: clamp(14px, 1.35vw, 18px);
  line-height: 1.75;
  color: rgba(255,255,255,0.72);
}

.section__actions{
  margin-top: 22px;
  display: flex;
  gap: 12px;
}

.section__btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  border-radius: 16px;
  font-size: 14px;
  font-weight: 800;
  text-decoration: none;
  color: #fff;
  background: rgba(11,11,13,0.92);
  box-shadow: 0 14px 34px rgba(0,0,0,0.32);
  transition: transform 200ms ease, background 200ms ease;
}

.section__btn:hover{ transform: translateY(-2px); background: rgba(11,11,13,0.98); }
.section__btn:active{ transform: translateY(0px); }

/* ---- MEDIA ---- */
.mediaFrame{
  overflow: hidden;
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,0.10);
  background: radial-gradient(600px 240px at 30% 0%, rgba(255,255,255,0.06), rgba(0,0,0,0));
  box-shadow: 0 18px 55px rgba(0,0,0,0.40);
}

.mediaImg{
  width: 100%;
  height: 320px;
  object-fit: cover;
  filter: saturate(1.05) contrast(1.05);
}

@media (min-width: 900px){ .mediaImg{ height: 520px; } }

/* =========================================================
   SCRUB ANIMATION (accentuata): basata su --p (0..1)
   ========================================================= */

/* direzioni + lift */
.home[data-anim="on"] .heroSection[data-side="left"]  { --textX: -120px; --mediaX:  140px; --lift: 18px; }
.home[data-anim="on"] .heroSection[data-side="right"] { --textX:  120px; --mediaX: -140px; --lift: 18px; }

/* smoothing leggero (evita tremolii) */
.home[data-anim="on"] .section__tag,
.home[data-anim="on"] .section__title,
.home[data-anim="on"] .section__desc,
.home[data-anim="on"] .section__actions,
.home[data-anim="on"] .section__btn,
.home[data-anim="on"] .section__media,
.home[data-anim="on"] .mediaImg{
  transition: transform 80ms linear, opacity 80ms linear, filter 80ms linear;
}

/* testo */
.home[data-anim="on"] .section__tag,
.home[data-anim="on"] .section__title,
.home[data-anim="on"] .section__desc{
  opacity: clamp(0, var(--p), 1);
  filter: blur(calc((1 - var(--p)) * 18px));
  transform:
    translate3d(
      calc((1 - var(--p)) * var(--textX)),
      calc((1 - var(--p)) * var(--lift)),
      0
    );
  will-change: opacity, transform, filter;
}

/* stagger PIÙ evidente */
.home[data-anim="on"] .section__tag   { opacity: clamp(0, calc((var(--p) - 0.04) * 2.2), 1); }
.home[data-anim="on"] .section__title { opacity: clamp(0, calc((var(--p) - 0.14) * 2.2), 1); }
.home[data-anim="on"] .section__desc  { opacity: clamp(0, calc((var(--p) - 0.28) * 2.2), 1); }

/* actions + CTA: entrano dopo la descrizione */
.home[data-anim="on"] .section__actions{
  opacity: clamp(0, calc((var(--p) - 0.42) * 2.2), 1);
  filter: blur(calc((1 - var(--p)) * 14px));
  transform:
    translate3d(
      calc((1 - var(--p)) * var(--textX)),
      calc((1 - var(--p)) * (var(--lift) + 8px)),
      0
    );
  will-change: opacity, transform, filter;
}

.home[data-anim="on"] .section__btn{
  /* ulteriore micro-stagger (leggermente dopo actions) */
  opacity: clamp(0, calc((var(--p) - 0.46) * 2.2), 1);
  filter: blur(calc((1 - var(--p)) * 12px));
  transform:
    translate3d(
      calc((1 - var(--p)) * var(--textX)),
      calc((1 - var(--p)) * (var(--lift) + 10px)),
      0
    )
    scale(calc(0.96 + var(--p) * 0.04));
  will-change: opacity, transform, filter;
}

/* media */
.home[data-anim="on"] .section__media{
  opacity: clamp(0, var(--p), 1);
  filter: blur(calc((1 - var(--p)) * 22px));
  transform:
    translate3d(
      calc((1 - var(--p)) * var(--mediaX)),
      calc((1 - var(--p)) * (var(--lift) * -0.6)),
      0
    )
    scale(calc(0.92 + var(--p) * 0.08));
  will-change: opacity, transform, filter;
}

/* ombra che cresce quando entra (effetto “emerge”) */
.home[data-anim="on"] .mediaFrame{
  box-shadow:
    0 18px 55px rgba(0,0,0,0.40),
    0 22px 90px rgba(0,0,0, calc(0.22 * var(--p)));
}

/* zoom immagine PIÙ marcato */
.home[data-anim="on"] .mediaImg{
  transform: scale(calc(1.00 + var(--p) * 0.14));
  will-change: transform;
}

/* accessibilità */
@media (prefers-reduced-motion: reduce){
  .home[data-anim="on"] .section__tag,
  .home[data-anim="on"] .section__title,
  .home[data-anim="on"] .section__desc,
  .home[data-anim="on"] .section__actions,
  .home[data-anim="on"] .section__btn,
  .home[data-anim="on"] .section__media,
  .home[data-anim="on"] .mediaImg{
    opacity: 1 !important;
    filter: none !important;
    transform: none !important;
    transition: none !important;
  }
}

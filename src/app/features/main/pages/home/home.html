<div class="home" [attr.data-anim]="animEnabled ? 'on' : 'off'">
  <section
    class="heroSection"
    *ngFor="let s of sections; let i = index"
    #sec
    [attr.data-side]="i % 2 === 0 ? 'left' : 'right'"
    [attr.data-key]="s.key"
    [attr.data-layout]="s.layout"
  >
    <div class="section__inner">
      <ng-container [ngSwitch]="s.layout">

        <!-- 1) ASSOCIAZIONE: testo pulito + hero (NO card) -->
        <ng-container *ngSwitchCase="'assocHero'">
          <div class="layout layout--assoc">
            <div class="assoc__copy">
              <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
              <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
              <p class="desc reveal" style="--d:0.28;">{{ s.text }}</p>

              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>

              <div class="crestInline reveal" style="--d:0.52;" *ngIf="s.crestImg">
                <img class="crestInline__img" [src]="s.crestImg" alt="Stemma" loading="lazy" />
                <div class="crestInline__text">
                  <div class="crestInline__kicker">Banda Musicale</div>
                  <div class="crestInline__title">Citt√† di Casali del Manco</div>
                </div>
              </div>
            </div>

            <div class="assoc__media reveal" style="--d:0.14;">
              <div class="frame frame--hero">
                <img class="img img--hero" [src]="s.images[0]" [alt]="s.title" loading="lazy" />
              </div>
            </div>
          </div>
        </ng-container>

        <!-- 2) SEDE: split normale (NO label verticale) -->
        <ng-container *ngSwitchCase="'sedeSplit'">
          <div class="layout layout--split">
            <div class="split__media reveal" style="--d:0.12;">
              <div class="frame frame--lg">
                <img class="img img--lg" [src]="s.images[0]" [alt]="s.title" loading="lazy" />
              </div>
            </div>

            <div class="split__copy">
              <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
              <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
              <p class="desc reveal" style="--d:0.28;">{{ s.text }}</p>
              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- 3) STORIA: header centrato + triptych sotto (layout che ti piaceva) -->
        <ng-container *ngSwitchCase="'storyTriptych'">
          <div class="layout layout--storyCentered">
            <div class="storyHeader">
              <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
              <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
              <p class="desc reveal storyClamp" style="--d:0.28;">{{ s.text }}</p>
              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>
            </div>

            <div class="triptych triptych--centered">
              <div class="triptych__a reveal" style="--d:0.14;">
                <div class="frame frame--md">
                  <img class="img img--md" [src]="s.images[0]" [alt]="s.title + ' foto 1'" loading="lazy" />
                </div>
              </div>

              <div class="triptych__b reveal" style="--d:0.22;">
                <div class="frame frame--hero">
                  <img class="img img--heroCompact" [src]="s.images[1]" [alt]="s.title + ' foto 2'" loading="lazy" />
                </div>
              </div>

              <div class="triptych__c reveal" style="--d:0.30;">
                <div class="frame frame--md">
                  <img class="img img--md" [src]="s.images[2]" [alt]="s.title + ' foto 3'" loading="lazy" />
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- 4) BANDA: header + strip stage -->
        <ng-container *ngSwitchCase="'bandStage'">
          <div class="layout layout--band">
            <div class="band__top">
              <div class="band__copy">
                <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
                <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
                <p class="desc reveal bandClamp" style="--d:0.28;">{{ s.text }}</p>
              </div>

              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>
            </div>

            <div class="stage">
              <div class="stage__tile reveal" style="--d:0.14;">
                <div class="frame frame--stage">
                  <img class="img img--stage" [src]="s.images[0]" [alt]="s.title + ' foto 1'" loading="lazy" />
                </div>
              </div>
              <div class="stage__tile reveal" style="--d:0.22;">
                <div class="frame frame--stage">
                  <img class="img img--stage" [src]="s.images[1]" [alt]="s.title + ' foto 2'" loading="lazy" />
                </div>
              </div>
              <div class="stage__tile reveal" style="--d:0.30;">
                <div class="frame frame--stage">
                  <img class="img img--stage" [src]="s.images[2]" [alt]="s.title + ' foto 3'" loading="lazy" />
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- 5) SCUOLA: double grande con ritmo (senza overlap) -->
        <ng-container *ngSwitchCase="'schoolDouble'">
          <div class="layout layout--school">
            <div class="school__copy">
              <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
              <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
              <p class="desc reveal schoolClamp" style="--d:0.28;">{{ s.text }}</p>
              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>
            </div>

            <div class="school__media">
              <div class="school__a reveal" style="--d:0.14;">
                <div class="frame frame--lg">
                  <img class="img img--lg" [src]="s.images[0]" [alt]="s.title + ' foto 1'" loading="lazy" />
                </div>
              </div>

              <div class="school__b reveal" style="--d:0.24;">
                <div class="frame frame--lg">
                  <img class="img img--lg" [src]="s.images[1]" [alt]="s.title + ' foto 2'" loading="lazy" />
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- 6) DIRETTIVO: poster pulito -->
        <ng-container *ngSwitchCase="'boardPoster'">
          <div class="layout layout--board">
            <div class="board__copy">
              <div class="label reveal" style="--d:0.08;">{{ s.tag }}</div>
              <h2 class="title reveal" style="--d:0.16;">{{ s.title }}</h2>
              <p class="desc reveal boardClamp" style="--d:0.28;">{{ s.text }}</p>
              <div class="actions reveal" style="--d:0.40;">
                <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
              </div>
            </div>

            <div class="board__media reveal" style="--d:0.14;">
              <div class="frame frame--tall">
                <img class="img img--tall" [src]="s.images[0]" [alt]="s.title" loading="lazy" />
              </div>
            </div>
          </div>
        </ng-container>

      </ng-container>
    </div>
  </section>
</div>
